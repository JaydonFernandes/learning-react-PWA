(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,o){},27:function(e,t,o){},31:function(e,t,o){"use strict";o.r(t);var r=o(1),n=o(0),a=o.n(n),i=o(10),c=o.n(i),s=(o(25),o(8)),l=(o(26),o(27),o(16)),d=o(9);var m=function(e){return Object(r.jsxs)("div",{className:"TimerControls",children:[Object(r.jsx)(d.a,{onClick:e.togglePause,style:{marginRight:"1rem"},children:e.isPaused?"Play":"Pause"}),Object(r.jsx)(d.a,{onClick:e.restartTimer,style:{marginLeft:"1rem"},children:"Restart"})]})},u=o(18),j=o(19);var g=function(e){var t=[{name:"Pomodoro",value:e.TimerTypes.pomodoro},{name:"Short Break",value:e.TimerTypes.shortBreak},{name:"Long Break",value:e.TimerTypes.longBreak}];return Object(r.jsx)("div",{className:"TimerOptions",children:Object(r.jsx)(u.a,{toggle:!0,style:{width:"100%"},children:t.map((function(t,o){return Object(r.jsx)(j.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.timerType===t.value,onChange:function(t){return e.updateTimerType(t.currentTarget.value)},children:t.name},o)}))})})};var h=function(e){var t,o,n=e.time,a=Math.floor(n/60),i=n-60*a;return Object(r.jsxs)("div",{className:"VisualTimer",style:{margin:"1rem",fontSize:"500%"},children:[a,":",Object(r.jsx)("span",{children:(t=i,o=2,String(t).padStart(o,"0"))})]})};var b=function(e){var t=Object(n.useState)(e.pomodoroTime),o=Object(s.a)(t,2),a=o[0],i=o[1],c=Object(n.useState)(!0),d=Object(s.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),T=p[0],v=p[1],f=Object(n.useState)("pomodoro"),O=Object(s.a)(f,2),k=O[0],B=O[1],x=E(e.pomodoroTime),S=E(e.shortBreakTime),y=E(e.longBreakTime),w={pomodoro:"pomodoro",shortBreak:"shortBreak",longBreak:"longBreak"};console.log("printing service worker"),console.log(navigator.serviceWorker),navigator.serviceWorker.addEventListener("message",(function(e){console.log("The service worker sent me a message: ".concat(e.data))})),console.log("printing NEW service worker"),console.log(navigator.serviceWorker);var P={pomodoro:60*e.pomodoroTime,shortBreak:60*e.shortBreakTime,longBreak:60*e.longBreakTime},L=Object(n.useState)(),W=Object(s.a)(L,2),C=W[0];function E(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}return W[1],Object(n.useEffect)((function(){"pomodoro"===k&&(clearTimeout(C),i(a+60*(e.pomodoroTime-x)))}),[e.pomodoroTime]),Object(n.useEffect)((function(){"shortBreak"===k&&(clearTimeout(C),i(a+60*(e.shortBreakTime-S)))}),[e.shortBreakTime]),Object(n.useEffect)((function(){"longBreak"===k&&(clearTimeout(C),i(a+60*(e.longBreakTime-y)))}),[e.longBreakTime]),Object(n.useEffect)((function(){i(P[k]),j(!0)}),[k]),Object(n.useEffect)((function(){T&&(i(P[k]),v(!1)),a<=0||u?(clearTimeout(C),a<=0&&!T&&B(k===w.pomodoro?w.shortBreak:w.pomodoro)):(console.log("Changing Time..."),navigator.serviceWorker.ready.then((function(e){e.active.postMessage("START-TIMER")})))}),[a,u,T]),Object(r.jsx)("div",{className:"TimerCard",style:{textAlign:"center"},children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(g,{updateTimerType:function(e){B(e)},timerType:k,TimerTypes:w}),Object(r.jsxs)(l.a.Body,{children:[Object(r.jsx)(h,{time:a}),Object(r.jsx)(m,{togglePause:function(){j(!u)},restartTimer:function(){v(!0),j(!0)},isPaused:u})]})]})})},p=o(17),T=o(12),v=o(14),f=o(11);var O=function(e){return Object(r.jsx)("div",{className:"SettingsModal",children:Object(r.jsxs)(T.a,Object(p.a)(Object(p.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(r.jsx)(T.a.Header,{closeButton:!0,children:Object(r.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Settings"})}),Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(v.a,{children:Object(r.jsx)(f.a,{children:Object(r.jsx)("h5",{children:"Time (minutes)"})})}),Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(f.a,{children:[Object(r.jsx)("h6",{children:"Pomodoro"}),Object(r.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedPomodoroTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedPomodoroTime(e.timesettings.pomodoroTime)},value:e.updatedPomodoroTime})]}),Object(r.jsxs)(f.a,{children:[Object(r.jsx)("h6",{children:"Short Break"}),Object(r.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedShortBreakTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedShortBreakTime(e.timesettings.shortBreakTime)},value:e.updatedShortBreakTime})]}),Object(r.jsxs)(f.a,{children:[Object(r.jsx)("h6",{children:"Long Break"}),Object(r.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedLongBreakTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedLongBreakTime(e.timesettings.longBreakTime)},value:e.updatedLongBreakTime})]})]})]}),Object(r.jsx)(T.a.Footer,{children:Object(r.jsx)(d.a,{onClick:e.onHide,children:"OK"})})]}))})};var k=function(e){var t=Object(n.useState)(!1),o=Object(s.a)(t,2),a=o[0],i=o[1],c=Object(n.useState)(e.pomodoroTime),l=Object(s.a)(c,2),m=l[0],u=l[1],j=Object(n.useState)(e.shortBreakTime),g=Object(s.a)(j,2),h=g[0],b=g[1],p=Object(n.useState)(e.longBreakTime),T=Object(s.a)(p,2),v=T[0],f=T[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Pomodoro Prime 29"}),Object(r.jsx)("span",{children:Object(r.jsx)(d.a,{variant:"warning",onClick:function(){return i(!0)},children:"Settings"})}),Object(r.jsx)(O,{setUpdatedPomodoroTime:u,setUpdatedShortBreakTime:b,setUpdatedLongBreakTime:f,updatedPomodoroTime:m,updatedShortBreakTime:h,updatedLongBreakTime:v,timesettings:e,show:a,onHide:function(){console.log("Modal Complete..."),console.log("updatedPomodoroTime: "+m),console.log("updatedShortBreakTime: "+h),console.log("updatedLongBreakTime: "+v);var t=!0;console.log(t),m&&m>=1?e.setPomodoroTime(m):(t=!1,u(e.pomodoroTime)),console.log(t),h&&h>=1?e.setShortBreakTime(h):(t=!1,b(e.shortBreakTime)),v&&v>=1?e.setLongBreakTime(v):(t=!1,f(e.longBreakTime)),console.log(t),t&&i(!1)}})]})};var B=function(){var e=Object(n.useState)(25),t=Object(s.a)(e,2),o=t[0],a=t[1],i=Object(n.useState)(5),c=Object(s.a)(i,2),l=c[0],d=c[1],m=Object(n.useState)(15),u=Object(s.a)(m,2),j=u[0],g=u[1];return Object(r.jsx)("div",{className:"App",style:{maxWidth:"40rem",marginLeft:"auto",marginRight:"auto"},children:Object(r.jsxs)("div",{style:{maxWidth:"40rem",marginLeft:"auto",marginRight:"auto"},children:[Object(r.jsx)(k,{pomodoroTime:o,setPomodoroTime:a,shortBreakTime:l,setShortBreakTime:d,longBreakTime:j,setLongBreakTime:g}),Object(r.jsx)("hr",{}),Object(r.jsx)(b,{pomodoroTime:o,shortBreakTime:l,longBreakTime:j})]})})},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,33)).then((function(t){var o=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),r(e),n(e),a(e),i(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(B,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/learning-react-PWA",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/learning-react-PWA","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var r=o.headers.get("content-type");404===o.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):S(t,e)}))}}(),y()}},[[31,1,2]]]);
//# sourceMappingURL=main.9112eb96.chunk.js.map