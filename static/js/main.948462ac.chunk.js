(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,o){},27:function(e,t,o){},31:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o(0),a=o.n(r),i=o(10),c=o.n(i),s=(o(25),o(8)),l=(o(26),o(27),o(16)),d=o(9);var m=function(e){return Object(n.jsxs)("div",{className:"TimerControls",children:[Object(n.jsx)(d.a,{onClick:e.togglePause,style:{marginRight:"1rem"},children:e.isPaused?"Play":"Pause"}),Object(n.jsx)(d.a,{onClick:e.restartTimer,style:{marginLeft:"1rem"},children:"Restart"})]})},u=o(18),j=o(19);var g=function(e){var t=[{name:"Pomodoro",value:e.TimerTypes.pomodoro},{name:"Short Break",value:e.TimerTypes.shortBreak},{name:"Long Break",value:e.TimerTypes.longBreak}];return Object(n.jsx)("div",{className:"TimerOptions",children:Object(n.jsx)(u.a,{toggle:!0,style:{width:"100%"},children:t.map((function(t,o){return Object(n.jsx)(j.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.timerType===t.value,onChange:function(t){return e.updateTimerType(t.currentTarget.value)},children:t.name},o)}))})})};var h=function(e){var t,o,r=e.time,a=Math.floor(r/60),i=r-60*a;return Object(n.jsxs)("div",{className:"VisualTimer",style:{margin:"1rem",fontSize:"500%"},children:[a,":",Object(n.jsx)("span",{children:(t=i,o=2,String(t).padStart(o,"0"))})]})};var b=function(e){var t=Object(r.useState)(e.pomodoroTime),o=Object(s.a)(t,2),a=o[0],i=o[1],c=Object(r.useState)(!0),d=Object(s.a)(c,2),u=d[0],j=d[1],b=Object(r.useState)(!1),T=Object(s.a)(b,2),p=T[0],f=T[1],v=Object(r.useState)("pomodoro"),O=Object(s.a)(v,2),k=O[0],B=O[1],x=U(e.pomodoroTime),S=U(e.shortBreakTime),y=U(e.longBreakTime),w={pomodoro:"pomodoro",shortBreak:"shortBreak",longBreak:"longBreak"};navigator.serviceWorker.ready.then((function(e){e.active.postMessage("SET-TIMER_"+a)})),navigator.serviceWorker.addEventListener("message",(function(e){console.log("The service worker sent me a message: ".concat(e.data))})),navigator.serviceWorker.ready.then((function(e){e.active.postMessage("TEST")}));var P={pomodoro:60*e.pomodoroTime,shortBreak:60*e.shortBreakTime,longBreak:60*e.longBreakTime},L=Object(r.useState)(),C=Object(s.a)(L,2),W=C[0],E=C[1];function U(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}return Object(r.useEffect)((function(){"pomodoro"===k&&(clearTimeout(W),i(a+60*(e.pomodoroTime-x)))}),[e.pomodoroTime]),Object(r.useEffect)((function(){"shortBreak"===k&&(clearTimeout(W),i(a+60*(e.shortBreakTime-S)))}),[e.shortBreakTime]),Object(r.useEffect)((function(){"longBreak"===k&&(clearTimeout(W),i(a+60*(e.longBreakTime-y)))}),[e.longBreakTime]),Object(r.useEffect)((function(){i(P[k]),j(!0)}),[k]),Object(r.useEffect)((function(){p&&(i(P[k]),f(!1)),a<=0||u?(clearTimeout(W),a<=0&&!p&&B(k===w.pomodoro?w.shortBreak:w.pomodoro)):(console.log("Changing Time..."),navigator.serviceWorker.ready.then((function(e){e.active.postMessage("START-TIMER")})),E(setTimeout((function(){i(a-1)}),1e3)))}),[a,u,p]),Object(n.jsx)("div",{className:"TimerCard",style:{textAlign:"center"},children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(g,{updateTimerType:function(e){B(e)},timerType:k,TimerTypes:w}),Object(n.jsxs)(l.a.Body,{children:[Object(n.jsx)(h,{time:a}),Object(n.jsx)(m,{togglePause:function(){j(!u)},restartTimer:function(){f(!0),j(!0)},isPaused:u})]})]})})},T=o(17),p=o(12),f=o(14),v=o(11);var O=function(e){return Object(n.jsx)("div",{className:"SettingsModal",children:Object(n.jsxs)(p.a,Object(T.a)(Object(T.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(p.a.Header,{closeButton:!0,children:Object(n.jsx)(p.a.Title,{id:"contained-modal-title-vcenter",children:"Settings"})}),Object(n.jsxs)(p.a.Body,{children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(v.a,{children:Object(n.jsx)("h5",{children:"Time (minutes)"})})}),Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(v.a,{children:[Object(n.jsx)("h6",{children:"Pomodoro"}),Object(n.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedPomodoroTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedPomodoroTime(e.timesettings.pomodoroTime)},value:e.updatedPomodoroTime})]}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)("h6",{children:"Short Break"}),Object(n.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedShortBreakTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedShortBreakTime(e.timesettings.shortBreakTime)},value:e.updatedShortBreakTime})]}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)("h6",{children:"Long Break"}),Object(n.jsx)("input",{className:"form-control",id:"example-number-input",type:"number",min:1,onChange:function(t){e.setUpdatedLongBreakTime(t.target.value)},onBlur:function(t){t.target.value&&t.target.value>=1?console.log("Good"):e.setUpdatedLongBreakTime(e.timesettings.longBreakTime)},value:e.updatedLongBreakTime})]})]})]}),Object(n.jsx)(p.a.Footer,{children:Object(n.jsx)(d.a,{onClick:e.onHide,children:"OK"})})]}))})};var k=function(e){var t=Object(r.useState)(!1),o=Object(s.a)(t,2),a=o[0],i=o[1],c=Object(r.useState)(e.pomodoroTime),l=Object(s.a)(c,2),m=l[0],u=l[1],j=Object(r.useState)(e.shortBreakTime),g=Object(s.a)(j,2),h=g[0],b=g[1],T=Object(r.useState)(e.longBreakTime),p=Object(s.a)(T,2),f=p[0],v=p[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Pomodoro Prime 19"}),Object(n.jsx)("span",{children:Object(n.jsx)(d.a,{variant:"warning",onClick:function(){return i(!0)},children:"Settings"})}),Object(n.jsx)(O,{setUpdatedPomodoroTime:u,setUpdatedShortBreakTime:b,setUpdatedLongBreakTime:v,updatedPomodoroTime:m,updatedShortBreakTime:h,updatedLongBreakTime:f,timesettings:e,show:a,onHide:function(){console.log("Modal Complete..."),console.log("updatedPomodoroTime: "+m),console.log("updatedShortBreakTime: "+h),console.log("updatedLongBreakTime: "+f);var t=!0;console.log(t),m&&m>=1?e.setPomodoroTime(m):(t=!1,u(e.pomodoroTime)),console.log(t),h&&h>=1?e.setShortBreakTime(h):(t=!1,b(e.shortBreakTime)),f&&f>=1?e.setLongBreakTime(f):(t=!1,v(e.longBreakTime)),console.log(t),t&&i(!1)}})]})};var B=function(){var e=Object(r.useState)(25),t=Object(s.a)(e,2),o=t[0],a=t[1],i=Object(r.useState)(5),c=Object(s.a)(i,2),l=c[0],d=c[1],m=Object(r.useState)(15),u=Object(s.a)(m,2),j=u[0],g=u[1];return Object(n.jsx)("div",{className:"App",style:{maxWidth:"40rem",marginLeft:"auto",marginRight:"auto"},children:Object(n.jsxs)("div",{style:{maxWidth:"40rem",marginLeft:"auto",marginRight:"auto"},children:[Object(n.jsx)(k,{pomodoroTime:o,setPomodoroTime:a,shortBreakTime:l,setShortBreakTime:d,longBreakTime:j,setLongBreakTime:g}),Object(n.jsx)("hr",{}),Object(n.jsx)(b,{pomodoroTime:o,shortBreakTime:l,longBreakTime:j})]})})},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,33)).then((function(t){var o=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),n(e),r(e),a(e),i(e)}))};c.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/learning-react-PWA",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/learning-react-PWA","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):S(t,e)}))}}(),y()}},[[31,1,2]]]);
//# sourceMappingURL=main.948462ac.chunk.js.map